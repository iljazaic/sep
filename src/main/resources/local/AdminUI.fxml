<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"  style="-fx-background-color: #0d4a3b;">
    <top>
        <HBox fx:id="navBar" spacing="0" style="-fx-background-color: #2e8b57; -fx-padding: 0;">
            <Button fx:id="navResidents" maxWidth="Infinity" onAction="#switchToResidents" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 12 24; -fx-font-size: 14px; -fx-background-radius: 0; -fx-border-width: 0;" text="RESIDENTS" HBox.hgrow="ALWAYS" />
            <Button fx:id="navActivities" maxWidth="Infinity" onAction="#switchToActivities" style="-fx-background-color: #2e8b57; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 12 24; -fx-font-size: 14px; -fx-background-radius: 0; -fx-border-width: 0;" text="ACTIVITIES &amp; RULES" HBox.hgrow="ALWAYS" />
            <Button fx:id="navTemplates" maxWidth="Infinity" onAction="#switchToTemplates" style="-fx-background-color: #2e8b57; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 12 24; -fx-font-size: 14px; -fx-background-radius: 0; -fx-border-width: 0;" text="TEMPLATES" HBox.hgrow="ALWAYS" />
            <Button fx:id="navTrade" maxWidth="Infinity" onAction="#switchToTrade" style="-fx-background-color: #2e8b57; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 12 24; -fx-font-size: 14px; -fx-background-radius: 0; -fx-border-width: 0;" text="TRADE OFFER" HBox.hgrow="ALWAYS" />
            <Button fx:id="navReset" maxWidth="Infinity" onAction="#switchToReset" style="-fx-background-color: #2e8b57; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 12 24; -fx-font-size: 14px; -fx-background-radius: 0; -fx-border-width: 0;" text="POINT RESET" HBox.hgrow="ALWAYS" />
            <Button fx:id="navPublish" maxWidth="Infinity" onAction="#switchToPublish" style="-fx-background-color: #2e8b57; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 12 24; -fx-font-size: 14px; -fx-background-radius: 0; -fx-border-width: 0;" text="PUBLISH TO WEBSITE" HBox.hgrow="ALWAYS" />
        </HBox>
    </top>
    <center>
        <TabPane fx:id="mainTabPane" side="BOTTOM" style="-fx-background-color: #0d4a3b;" tabClosingPolicy="UNAVAILABLE">
            <style>
                .tab-header-area { -fx-padding: 0; -fx-pref-height: 0; -fx-min-height: 0; -fx-max-height: 0; visibility: hidden; }
                .tab-pane { -fx-background-color: #0d4a3b; -fx-border-width: 0; }
                .tab-content-area { -fx-padding: 0; -fx-border-width: 0; -fx-background-color: #0d4a3b; }
            </style>
            <tabs>
                <Tab text="RESIDENTS">
                    <content>
                        <VBox spacing="10" style="-fx-background-color: #0d4a3b; -fx-padding: 20;">
                            <HBox alignment="CENTER_LEFT" spacing="20">
                                <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="List of Residents">
                                    <font>
                                        <Font size="16.0" />
                                    </font>
                                </Label>
                                <Region HBox.hgrow="ALWAYS" />
                                <HBox alignment="CENTER_RIGHT" spacing="5">
                                    <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="COMMUNITY POOL: ">
                                        <font>
                                            <Font size="16.0" />
                                        </font>
                                    </Label>
                                    <Label fx:id="communityPointsLabel" style="-fx-text-fill: white; -fx-font-weight: bold;">
                                        <font>
                                            <Font size="16.0" />
                                        </font>
                                    </Label>
                                </HBox>
                            </HBox>
                            <TableView fx:id="residentTable" style="-fx-background-color: white; -fx-border-color: black; -fx-border-width: 1;" VBox.vgrow="ALWAYS">
                                <columns>
                                    <TableColumn fx:id="residentIdCol" prefWidth="50" text="ID" />
                                    <TableColumn fx:id="residentNameCol" prefWidth="120" text="NAME" />
                                    <TableColumn fx:id="residentEmailCol" prefWidth="150" text="EMAIL" />
                                    <TableColumn fx:id="residentPhoneNumberCol" prefWidth="120" text="PHONE" />
                                    <TableColumn fx:id="residentPointsCol" prefWidth="80" text="POINTS" />
                                </columns>
                                <columnResizePolicy>
                                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                </columnResizePolicy>
                            </TableView>
                            <HBox alignment="BOTTOM_LEFT" spacing="20">
                                <Button onAction="#handleCreateUser" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-font-size: 14px; -fx-background-radius: 0; -fx-border-width: 0;" text="ADD" />
                                <Button onAction="#handleEditPoints" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-font-size: 14px; -fx-background-radius: 0; -fx-border-width: 0;" text="EDIT" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Button onAction="#handleRemoveUser" style="-fx-background-color: #212121; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-font-size: 14px; -fx-background-radius: 0; -fx-border-width: 0;" text="REMOVE" />
                            </HBox>
                        </VBox>
                    </content>
                </Tab>
                <Tab text="ACTIVITIES &amp; TASKS">
                    <content>
                        <VBox spacing="15" style="-fx-background-color: #0d4a3b; -fx-padding: 20;">
                            <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="GREEN ACTIONS MANAGEMENT">
                                <font>
                                    <Font size="18.0" />
                                </font>
                            </Label>
                            <TableView fx:id="greenActionTable" style="-fx-background-color: white; -fx-border-color: black; -fx-border-width: 1;" VBox.vgrow="ALWAYS">
                                <columns>
                                    <TableColumn fx:id="actionIdCol" prefWidth="75.0" text="Action ID" />
                                    <TableColumn fx:id="actionUserIdCol" prefWidth="75.0" text="User ID" />
                                    <TableColumn fx:id="actionDescCol" prefWidth="250.0" text="Description" />
                                    <TableColumn fx:id="actionPointsCol" prefWidth="75.0" text="Points" />
                                </columns>
                            </TableView>
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <Button onAction="#handleCreateAction" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 0;" text="CREATE ACTION" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Button onAction="#handleDeleteAction" style="-fx-background-color: #c93b3b; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 0;" text="DELETE SELECTED" />
                            </HBox>
                            <Separator style="-fx-background-color: white;" />
                            <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="COMMUNITY TASKS (RULES)">
                                <font>
                                    <Font size="18.0" />
                                </font>
                            </Label>
                            <TableView fx:id="taskTable" style="-fx-background-color: white; -fx-border-color: black; -fx-border-width: 1;" VBox.vgrow="ALWAYS">
                                <columns>
                                    <TableColumn fx:id="taskDescCol" prefWidth="300.0" text="Description" />
                                    <TableColumn fx:id="taskRewardCol" prefWidth="100.0" text="Reward" />
                                </columns>
                            </TableView>
                            <HBox alignment="CENTER_RIGHT" spacing="10">
                                <Button onAction="#handleCreateTask" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 0; -fx-border-width: 0;" text="CREATE NEW TASK" />
                                <Button onAction="#handleRemoveTask" style="-fx-background-color: #212121; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 0; -fx-border-width: 0;" text="REMOVE SELECTED TASK" />
                            </HBox>
                        </VBox>
                    </content>
                </Tab>
                <Tab text="TEMPLATES">
                    <content>
                        <VBox spacing="15" style="-fx-background-color: #0d4a3b; -fx-padding: 20;">
                            <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="GREEN ACTIONS TEMPLATES">
                                <font>
                                    <Font size="18.0" />
                                </font>
                            </Label>
                            <TableView fx:id="actionTemplateTable" style="-fx-background-color: white; -fx-border-color: black; -fx-border-width: 1;" VBox.vgrow="ALWAYS">
                                <columns>
                                    <TableColumn fx:id="actionTemplateDescCol" prefWidth="75.0" text="Template Description" />
                                    <TableColumn fx:id="actionTemplateValCol" prefWidth="75.0" text="Point Value" />
                                </columns>
                            </TableView>
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <Button onAction="#handleCreateActionTemplate" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 0;" text="CREATE TEMPLATE" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Button onAction="#handleDeleteActionTemplate" style="-fx-background-color: #c93b3b; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 0;" text="DELETE SELECTED" />
                            </HBox>
                            <Separator style="-fx-background-color: white;" />
                            <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="COMMUNITY TASK TEMPLATES">
                                <font>
                                    <Font size="18.0" />
                                </font>
                            </Label>
                            <TableView fx:id="taskTemplateTable" style="-fx-background-color: white; -fx-border-color: black; -fx-border-width: 1;" VBox.vgrow="ALWAYS">
                                <columns>
                                    <TableColumn fx:id="taskTemplateDescCol" prefWidth="300.0" text="Template Description" />
                                    <TableColumn fx:id="taskTemplateValCol" prefWidth="100.0" text="Point Value" />
                                </columns>
                            </TableView>
                            <HBox alignment="CENTER_RIGHT" spacing="10">
                                <Button onAction="#handleCreateTaskTemplate" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 0; -fx-border-width: 0;" text="CREATE TEMPLATE" />
                                <Button onAction="#handleRemoveTaskTemplate" style="-fx-background-color: #212121; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 0; -fx-border-width: 0;" text="REMOVE SELECTED TASK" />
                            </HBox>
                        </VBox>
                    </content>
                </Tab>
                <Tab text="POINT TRADES">
                    <content>
                        <VBox spacing="10" style="-fx-background-color: #0d4a3b; -fx-padding: 20;">
                            <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="POINT TRADE OFFERS">
                                <font>
                                    <Font size="18.0" />
                                </font>
                            </Label>
                            <TableView fx:id="tradeTable" style="-fx-background-color: white; -fx-border-color: black; -fx-border-width: 1;" VBox.vgrow="ALWAYS">
                                <columns>
                                    <TableColumn fx:id="tradeIdCol" prefWidth="75.0" text="Trade ID" />
                                    <TableColumn fx:id="tradeNameCol" prefWidth="100.0" text="Name" />
                                    <TableColumn fx:id="tradeCreatorNameCol" prefWidth="75.0" text="Creator Name" />
                                    <TableColumn fx:id="tradePointsCol" prefWidth="75.0" text="Points" />
                                    <TableColumn fx:id="tradeDescCol" prefWidth="200.0" text="Description" />
                                </columns>
                            </TableView>
                            <VBox spacing="10" style="-fx-background-color: rgba(255,255,255,0.1); -fx-padding: 10;">
                                <HBox spacing="10" alignment="CENTER_LEFT">
                                </HBox>
                                <HBox spacing="10" alignment="CENTER_LEFT">
                                    <Button onAction="#handleCreateTrade" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 0;" text="CREATE TRADE" />
                                    <Button onAction="#handleRemoveTrade" style="-fx-background-color: #c93b3b; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 0;" text="DELETE SELECTED" />
                                </HBox>
                            </VBox>
                        </VBox>
                    </content>
                </Tab>
                <Tab text="MANAGE POINTS">
                    <content>
                        <VBox alignment="CENTER" spacing="20" style="-fx-background-color: #0d4a3b; -fx-padding: 20;">
                            <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="ADMINISTRATOR POINT MANAGEMENT">
                                <font>
                                    <Font size="20.0" />
                                </font>
                            </Label>
                            <Separator style="-fx-background-color: white; max-width: 500;" />
                            <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="MANUALLY EDIT COMMUNITY GREEN POINTS">
                                <font>
                                    <Font size="16.0" />
                                </font>
                            </Label>
                            <HBox alignment="CENTER" spacing="10">
                                <Label style="-fx-text-fill: white;" text="New Total:" />
                                <TextField fx:id="newPointsField" promptText="Enter New Point Total" />
                                <Button onAction="#handleSetCommunityPoints" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 0; -fx-border-width: 0;" text="SET POINTS" />
                            </HBox>
                            <HBox alignment="CENTER" spacing="10">
                                <Label style="-fx-text-fill: white;" text="New Milestone:" />
                                <TextField fx:id="milestoneField" promptText="Enter New Point Milestone" />
                                <Button onAction="#setPointMilestone" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 0; -fx-border-width: 0;" text="SET POINTS" />
                            </HBox>
                            <Label fx:id="pointsStatusLabel" style="-fx-text-fill: yellow;" />
                            <Separator style="-fx-background-color: white; max-width: 500;" />
                            <Button style="-fx-background-color: #c93b3b; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 0; -fx-border-width: 0;" text="RESET ALL RESIDENT POINTS TO ZERO" />
                        </VBox>
                    </content>
                </Tab>
                <Tab text="PUBLISH TO WEBSITE">
                    <content>
                        <VBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: #0d4a3b; -fx-padding: 20;">
                            <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="PUBLISH OPTIONS">
                                <font>
                                    <Font size="20.0" />
                                </font>
                            </Label>
                            <Label style="-fx-text-fill: white;" text="Publish Community Points" />
                            <Button onAction="#publishCommunityPoints" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 0; -fx-border-width: 0;" text="PUBLISH" />
                            <Label style="-fx-text-fill: white;" text="Publish Community Tasks/Actions" />
                            <Button onAction="#publishCommunityTasksAndActions" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 0; -fx-border-width: 0;" text="PUBLISH" />
                            <Label style="-fx-text-fill: white;" text="Publish Trade Offers" />
                            <Button onAction="#publishTradeOffers" style="-fx-background-color: #55b740; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 0; -fx-border-width: 0;" text="PUBLISH" />
                        </VBox>
                    </content>
                </Tab>
            </tabs>
        </TabPane>
    </center>
</BorderPane>